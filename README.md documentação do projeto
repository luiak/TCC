# ğŸ“… Sistema de CalendÃ¡rio - SENAI
## GestÃ£o AutomÃ¡tica de Agenda de Professores

Sistema completo de gerenciamento de calendÃ¡rio de aulas com alocaÃ§Ã£o automÃ¡tica de professores desenvolvido para o SENAI.

---

## ğŸ¯ Objetivos do Projeto

- âœ… Gerenciar cursos, professores e competÃªncias
- âœ… Gerar automaticamente calendÃ¡rios de aulas
- âœ… Alocar professores baseado em competÃªncias e disponibilidade
- âœ… Detectar e registrar conflitos de horÃ¡rios
- âœ… Interface intuitiva e moderna
- âœ… RelatÃ³rios e estatÃ­sticas

---

## ğŸ› ï¸ Tecnologias Utilizadas

### Backend
- **PHP 7.4+** - Linguagem principal
- **MySQL 8.0+** - Banco de dados
- **phpMyAdmin** - Gerenciamento do banco

### Frontend
- **HTML5** - Estrutura
- **CSS3** - EstilizaÃ§Ã£o moderna
- **JavaScript (Vanilla)** - Interatividade
- **Responsive Design** - CompatÃ­vel com todos dispositivos

---

## ğŸ“ Estrutura do Projeto

```
calendario/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ conexao.php              # ConfiguraÃ§Ã£o do banco de dados
â”œâ”€â”€ api/
â”‚   â””â”€â”€ index.php                # API REST
â”œâ”€â”€ database/
â”‚   â””â”€â”€ calendario.sql           # Script de criaÃ§Ã£o do banco
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ index.html               # Interface principal
â”œâ”€â”€ gerar_calendario.php         # Gerador automÃ¡tico
â”œâ”€â”€ exibir_calendario.php        # VisualizaÃ§Ã£o de calendÃ¡rio
â””â”€â”€ README.md                    # DocumentaÃ§Ã£o
```

---

## âš™ï¸ InstalaÃ§Ã£o

### 1. PrÃ©-requisitos

- XAMPP, WAMP, ou servidor com Apache, PHP e MySQL
- Navegador moderno (Chrome, Firefox, Edge)
- phpMyAdmin (geralmente incluso no XAMPP/WAMP)

### 2. ConfiguraÃ§Ã£o do Ambiente

```bash
# Clone ou baixe o projeto
# Extraia na pasta htdocs do XAMPP ou www do WAMP

C:\xampp\htdocs\calendario\
```

### 3. Configurar Banco de Dados

1. **Abra o phpMyAdmin** (http://localhost/phpmyadmin)

2. **Crie o banco de dados**:
   - Clique em "Novo" no menu lateral
   - Nome: `calendario`
   - Collation: `utf8mb4_general_ci`
   - Clique em "Criar"

3. **Importe o arquivo SQL**:
   - Selecione o banco `calendario`
   - VÃ¡ na aba "Importar"
   - Escolha o arquivo `database/calendario.sql`
   - Clique em "Executar"

### 4. Configurar ConexÃ£o

Edite o arquivo `conexao.php`:

```php
<?php
$servername = "localhost";
$username = "root";          // Seu usuÃ¡rio MySQL
$password = "";              // Sua senha MySQL (geralmente vazia no XAMPP)
$dbname = "calendario";

$conn = new mysqli($servername, $username, $password, $dbname);

if ($conn->connect_error) {
    die("Falha na conexÃ£o: " . $conn->connect_error);
}

$conn->set_charset("utf8mb4");
?>
```

### 5. Iniciar o Servidor

1. Inicie o XAMPP/WAMP
2. Ative Apache e MySQL
3. Acesse: http://localhost/calendario/frontend/index.html

---

## ğŸš€ Como Usar

### Dashboard

- Visualize estatÃ­sticas gerais
- Veja cursos ativos
- Monitore professores e aulas

### Gerar CalendÃ¡rio

1. Acesse a aba "Gerar CalendÃ¡rio"
2. Selecione um curso
3. Clique em "Gerar CalendÃ¡rio Automaticamente"
4. O sistema irÃ¡:
   - Buscar todas as competÃªncias do curso
   - Criar datas de aula baseado nos dias da semana
   - Alocar professores qualificados
   - Detectar conflitos de horÃ¡rio
   - Registrar tudo no banco de dados

### Ver Agenda

- Visualize todas as aulas agendadas
- Filtre por: Todas, Hoje, Esta Semana, Este MÃªs
- Veja professor, curso e competÃªncia

### Professores

- Liste todos os professores
- Adicione novos professores
- Edite informaÃ§Ãµes
- Visualize competÃªncias e carga horÃ¡ria

---

## ğŸ”§ Funcionalidades Principais

### 1. GeraÃ§Ã£o AutomÃ¡tica de CalendÃ¡rio

**Algoritmo:**

```
1. Busca informaÃ§Ãµes do curso (turno, dias da semana, datas)
2. Lista competÃªncias ordenadas
3. Gera todas as datas de aula possÃ­veis
4. Distribui competÃªncias nas datas (baseado em carga horÃ¡ria)
5. Para cada aula:
   - Busca professores qualificados (por competÃªncia)
   - Ordena por nÃ­vel de conhecimento (expert > avanÃ§ado > intermediÃ¡rio)
   - Verifica disponibilidade (sem conflitos de horÃ¡rio)
   - Aloca professor disponÃ­vel
   - Se nÃ£o houver, registra conflito
6. Retorna estatÃ­sticas da geraÃ§Ã£o
```

### 2. DetecÃ§Ã£o de Conflitos

O sistema detecta automaticamente:
- âœ… SobreposiÃ§Ã£o de horÃ¡rios
- âœ… Professores em dois lugares ao mesmo tempo
- âœ… Carga horÃ¡ria excedida
- âœ… Professores nÃ£o qualificados

### 3. RelatÃ³rios e EstatÃ­sticas

- Total de cursos ativos
- Total de professores
- Aulas agendadas
- Conflitos pendentes
- Taxa de sucesso na geraÃ§Ã£o

---

## ğŸ“Š Estrutura do Banco de Dados

### Tabelas Principais

#### `professor`
- IDprofessor (PK)
- nome_professor
- email
- telefone
- especialidade
- carga_horaria_semanal
- status

#### `cursos`
- IDcurso (PK)
- nome
- turno (ManhÃ£, Tarde, Noite)
- dias_semana (Segunda, TerÃ§a, etc.)
- carga_horaria_total
- data_inicio
- data_fim
- status

#### `competencias`
- IDcompetencia (PK)
- competencia (nome)
- descricao
- carga_horaria

#### `agenda`
- IDagenda (PK)
- IDprofessor (FK)
- IDcurso (FK)
- IDcompetencia (FK)
- data_aula
- hora_inicio
- hora_fim
- sala
- status
- observacoes

#### `conflitos`
- IDconflito (PK)
- IDprofessor (FK)
- data_conflito
- hora_inicio
- hora_fim
- tipo_conflito
- descricao
- resolvido

---

## ğŸ¨ CaracterÃ­sticas do Design

### Visual Moderno
- Gradientes suaves
- AnimaÃ§Ãµes fluidas
- Cards interativos
- Cores do SENAI

### Responsivo
- Mobile First
- AdaptÃ¡vel a tablets
- Desktop otimizado

### UX Intuitiva
- NavegaÃ§Ã£o clara
- Feedback visual
- Modais para aÃ§Ãµes
- Loading states

---

## ğŸ”Œ API REST

### Endpoints DisponÃ­veis

#### GET `/api/index.php?endpoint=cursos`
Retorna todos os cursos

#### GET `/api/index.php?endpoint=professores`
Retorna todos os professores

#### GET `/api/index.php?endpoint=agenda&filtro=todas`
Retorna agenda (filtros: todas, hoje, semana, mes)

#### GET `/api/index.php?endpoint=dashboard`
Retorna estatÃ­sticas do dashboard

#### POST `/api/index.php?endpoint=gerar-calendario`
Gera calendÃ¡rio automÃ¡tico
```json
{
  "id_curso": 1
}
```

#### POST `/api/index.php?endpoint=professores`
Cria novo professor
```json
{
  "nome": "Nome do Professor",
  "email": "email@senai.br",
  "telefone": "(41) 99999-9999",
  "especialidade": "ProgramaÃ§Ã£o",
  "carga_horaria": 40
}
```

---

## ğŸ§ª Testando o Sistema

### 1. Teste BÃ¡sico

```bash
# Acesse o sistema
http://localhost/calendario/frontend/index.html

# Verifique se aparece o dashboard
# Deve mostrar 3 cursos e 4 professores (dados de exemplo)
```

### 2. Testar GeraÃ§Ã£o de CalendÃ¡rio

1. VÃ¡ em "Gerar CalendÃ¡rio"
2. Selecione "Desenvolvimento Web Full Stack"
3. Clique em "Gerar CalendÃ¡rio Automaticamente"
4. Aguarde 2 segundos
5. Verifique resultado

### 3. Verificar no Banco

```sql
-- No phpMyAdmin, execute:
SELECT * FROM agenda ORDER BY data_aula;

-- Deve listar todas as aulas geradas
```

---

## ğŸ“ Exemplos de Uso

### Adicionar Novo Curso

```php
// Via API
POST /api/index.php?endpoint=cursos
{
  "nome": "DevOps e Cloud",
  "turno": "Noite",
  "dias_semana": "Segunda,Quarta,Sexta",
  "carga_horaria_total": 200,
  "data_inicio": "2025-11-01",
  "data_fim": "2026-03-01"
}
```

### Consultar Agenda de um Professor

```sql
SELECT a.*, c.nome as curso, comp.competencia
FROM agenda a
INNER JOIN cursos c ON a.IDcurso = c.IDcurso
INNER JOIN competencias comp ON a.IDcompetencia = comp.IDcompetencia
WHERE a.IDprofessor = 1
ORDER BY a.data_aula;
```

### RelatÃ³rio de Conflitos

```sql
SELECT p.nome_professor, cf.*, 
       DATE_FORMAT(cf.data_conflito, '%d/%m/%Y') as data_formatada
FROM conflitos cf
INNER JOIN professor p ON cf.IDprofessor = p.IDprofessor
WHERE cf.resolvido = FALSE;
```

---

## ğŸ› SoluÃ§Ã£o de Problemas

### Erro de ConexÃ£o com Banco

```
SoluÃ§Ã£o:
1. Verifique se MySQL estÃ¡ ativo no XAMPP
2. Confirme usuÃ¡rio e senha em conexao.php
3. Teste conexÃ£o no phpMyAdmin
```

### CalendÃ¡rio NÃ£o Gera

```
SoluÃ§Ã£o:
1. Verifique se hÃ¡ professores com competÃªncias cadastradas
2. Confirme se o curso tem competÃªncias associadas
3. Veja a tabela professor_competencia
```

### Interface NÃ£o Carrega

```
SoluÃ§Ã£o:
1. Verifique se Apache estÃ¡ rodando
2. Confirme o caminho: htdocs/calendario/
3. Limpe cache do navegador (Ctrl + F5)
```

---

## ğŸ” SeguranÃ§a

### RecomendaÃ§Ãµes para ProduÃ§Ã£o

1. **Senhas Fortes**
```php
// Use variÃ¡veis de ambiente
$password = getenv('DB_PASSWORD');
```

2. **Prepared Statements**
```php
// Sempre use (jÃ¡ implementado)
$stmt = $conn->prepare("SELECT * FROM cursos WHERE id = ?");
```

3. **ValidaÃ§Ã£o de Dados**
```php
// Valide todas as entradas
$email = filter_var($_POST['email'], FILTER_VALIDATE_EMAIL);
```

4. **HTTPS**
- Use certificado SSL em produÃ§Ã£o
- Force redirecionamento HTTPS

---

## ğŸ“ˆ Melhorias Futuras

### Fase 2
- [ ] Sistema de notificaÃ§Ãµes por email
- [ ] Exportar calendÃ¡rio para PDF
- [ ] IntegraÃ§Ã£o com Google Calendar
- [ ] App mÃ³vel (React Native)

### Fase 3
- [ ] IA para otimizar alocaÃ§Ã£o
- [ ] AnÃ¡lise preditiva de conflitos
- [ ] Dashboard analytics avanÃ§ado
- [ ] Sistema de avaliaÃ§Ãµes

---

## ğŸ‘¥ Contribuindo

Para contribuir com o projeto:

1. Fork o repositÃ³rio
2. Crie uma branch (`git checkout -b feature/NovaFuncionalidade`)
3. Commit suas mudanÃ§as (`git commit -m 'Adiciona nova funcionalidade'`)
4. Push para a branch (`git push origin feature/NovaFuncionalidade`)
5. Abra um Pull Request

---

## ğŸ“„ LicenÃ§a

Este projeto foi desenvolvido para o SENAI como projeto educacional.

---

## ğŸ“ Suporte

Para dÃºvidas e suporte:
- Email: suporte@senai.br
- DocumentaÃ§Ã£o: [Wiki do Projeto]

---

## âœ… Checklist de ImplementaÃ§Ã£o

- [x] Estrutura do banco de dados
- [x] Sistema de conexÃ£o
- [x] Gerador automÃ¡tico de calendÃ¡rio
- [x] DetecÃ§Ã£o de conflitos
- [x] API REST
- [x] Interface frontend
- [x] Dashboard com estatÃ­sticas
- [x] CRUD de professores
- [x] VisualizaÃ§Ã£o de agenda
- [x] DocumentaÃ§Ã£o completa

---

## ğŸ“ CrÃ©ditos

Desenvolvido como projeto para o **SENAI** - ServiÃ§o Nacional de Aprendizagem Industrial

**Tecnologias:** PHP, MySQL, HTML, CSS, JavaScript
**Objetivo:** Automatizar gestÃ£o de calendÃ¡rio de aulas

---

**VersÃ£o:** 1.0.0  
**Data:** Outubro 2025  
**Status:** âœ… Pronto para uso
